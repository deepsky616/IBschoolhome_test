# 테스트 가이드

## 분석 기능 테스트 방법

### 1. 샘플 파일 사용

프로젝트 루트에 2개의 샘플 파일이 제공됩니다:

- `sample-data.json` - JSON 형식
- `sample-data.txt` - 텍스트 형식

### 2. 테스트 절차

1. 개발 서버 실행
   ```bash
   npm run dev
   ```

2. http://localhost:3000 접속

3. 로그인 페이지에서 "Google 계정으로 로그인" 클릭
   - (현재는 임시로 대시보드로 이동)

4. 대시보드에서:
   - Gemini API 키 섹션은 건너뛰어도 됨 (현재는 필수 아님)
   - 파일 업로드: `sample-data.json` 또는 `sample-data.txt` 선택
   - "분석하기" 버튼 클릭

5. 분석 결과 확인:
   - 요약 통계 (전체/정상/오류)
   - 필터 버튼 (전체/오류만/정상만)
   - 각 항목별 상세 정보
   - 오류 메시지 및 개선 제안

### 3. 분석 항목

분석기는 다음을 검증합니다:

#### 필수 항목 검증
- ✅ 교과명 (국어/수학/사회/과학/영어/체육/음악/미술/실과)
- ✅ 성취기준 형식 (예: [4국01-05])
- ✅ 단원명
- ✅ 평가영역
- ✅ 평가요소

#### 평가기준 4단계 검증
- ✅ 매우잘함 (누락 여부, 최소 10자 권장)
- ✅ 잘함 (누락 여부, 최소 10자 권장)
- ✅ 보통 (누락 여부, 최소 10자 권장)
- ✅ 노력요함 (누락 여부, 최소 10자 권장)

### 4. 예상 결과

#### sample-data.json 분석 시:
- 전체 항목: 6개
- 정상 항목: 2개 (수학, 과학)
- 오류 항목: 4개
  - 국어: 노력요함 누락
  - 영어: 보통 누락
  - 사회: 성취기준 형식 오류
  - 체육: 모든 평가기준 누락

#### sample-data.txt 분석 시:
- 동일한 결과 (형식만 다름)

### 5. 직접 테스트 파일 만들기

#### JSON 형식:
```json
[
  {
    "교과": "국어",
    "성취기준": "[4국01-05]",
    "단원명": "단원명 입력",
    "평가영역": "듣기·말하기",
    "평가요소": "발표하기",
    "평가기준": {
      "매우잘함": "설명 입력",
      "잘함": "설명 입력",
      "보통": "설명 입력",
      "노력요함": "설명 입력"
    }
  }
]
```

#### 텍스트 형식:
```
교과: 국어
성취기준: [4국01-05]
단원명: 단원명 입력
평가영역: 듣기·말하기
평가요소: 발표하기
매우잘함: 설명 입력
잘함: 설명 입력
보통: 설명 입력
노력요함: 설명 입력
```

### 6. 문제 해결

#### 파일 업로드 오류
- 파일 형식 확인 (.json, .txt 확장자)
- 파일 크기 확인 (10MB 이하)

#### 분석 오류
- 브라우저 콘솔(F12) 확인
- 서버 터미널 로그 확인

#### 결과가 나오지 않음
- 네트워크 탭에서 API 응답 확인
- `/api/analyze` 엔드포인트 상태 확인

### 7. 향후 개선사항

현재 구현:
- ✅ JSON/텍스트 파일 파싱
- ✅ 기본 검증 로직
- ✅ 상세 오류 분석

추후 구현 예정:
- ⏳ DOCX 파일 파싱 (mammoth 라이브러리)
- ⏳ PDF 파일 파싱 (pdf-parse 라이브러리)
- ⏳ HWP 파일 파싱 (node-hwp 라이브러리)
- ⏳ Gemini AI 통합 (고급 분석)
- ⏳ 성취기준 데이터베이스 매칭
